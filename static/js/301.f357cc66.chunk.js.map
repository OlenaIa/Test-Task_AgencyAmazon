{"version":3,"file":"static/js/301.f357cc66.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Filters/Filter.module.css?559f","redux/filter/filterSelector.js","components/Filters/Filter.jsx","components/AccountItem/AccountItem.jsx","components/AccountsList/AccountsList.jsx","pages/Accounts.jsx","redux/accounts/accountsSelector.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapFilters\":\"Filter_wrapFilters__GvMFl\"};","export const selectFilterByEmail = state => state.filter.filterByEmail;\nexport const selectFilterByDate = state => state.filter.filterByDate;\nexport const selectIsCheckedAllAccounts = state => state.filter.isCheckedAllAccounts;\nexport const selectFilteredAccounts = state => state.filter.filteredAccounts;","import 'bootstrap/dist/css/bootstrap.min.css';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { filterByEmailSet, filterByDateSet, isCheckedAllAccountsSet } from '../../redux/filter/filterSlice';\nimport css from './Filter.module.css';\nimport { selectIsCheckedAllAccounts, selectFilterByEmail, selectFilterByDate } from '../../redux/filter/filterSelector';\n\nexport const Filters = () => {\n    const dispatch = useDispatch();\n    const filterEmail = useSelector(selectFilterByEmail);\n    const filterDate = useSelector(selectFilterByDate);\n    const IsCheckedAllAccounts = useSelector(selectIsCheckedAllAccounts);\n\n    const onChangeFilter = (event) => {\n        const { type, value } = event.currentTarget;\n        switch (type) {\n            case 'email':\n                const lowerEmail = value.toLowerCase();\n                dispatch(filterByEmailSet(lowerEmail))\n                break;\n            case 'date':\n                dispatch(filterByDateSet(value))\n                break;\n            default:\n                break;\n        }\n    };\n\n    const checkHandler = () => {\n        dispatch(isCheckedAllAccountsSet(!IsCheckedAllAccounts));\n    };\n\n    return (\n        <div className={css.wrapFilters}>\n            <div className=\"form-check\">\n                <input\n                    className=\"form-check-input\"\n                    type=\"checkbox\"\n                    value=\"\"\n                    id=\"flexCheckDefault\"\n                    checked={IsCheckedAllAccounts}\n                    onChange={checkHandler}\n                />\n                <label\n                    className=\"form-check-label\"\n                    htmlFor=\"flexCheckDefault\">\n                    Choose all accounts\n                </label>\n            </div>\n\n            <div className=\"mb-3\">\n                <label\n                    htmlFor=\"emailInput\"\n                    className=\"form-label\">\n                    Filter by Email\n                </label>\n                <input\n                    type=\"email\"\n                    className=\"form-control\"\n                    id=\"emailInput\"\n                    value={filterEmail}\n                    onChange={onChangeFilter}\n                    placeholder=\"Write Email\"\n                />\n            </div>\n\n            <div className=\"mb-3\">\n                <label\n                    htmlFor=\"dataInput\"\n                    className=\"form-label\">\n                    Sort by Data\n                </label>\n                <input\n                    type=\"date\"\n                    className=\"form-control\"\n                    id=\"dataInput\"\n                    value={filterDate}\n                    onChange={onChangeFilter}\n                    placeholder=\"Write Date: year-mm-dd\" />\n            </div>\n        </div>\n    )\n};\n\n","import 'bootstrap/dist/css/bootstrap.min.css';\nimport { useDispatch } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { getProfilesByAccountIdThank } from '../../redux/accounts/operationAccounts';\nimport { accountIdSet } from '../../redux/chosenIdSlice';\n\nexport const AccountItem = ({ item, index, page }) => {\n    const dispatch = useDispatch();\n\n    const onClickAccountId = (accountId) => {\n        dispatch(accountIdSet(accountId))\n        dispatch(getProfilesByAccountIdThank(accountId))\n    };\n\n    return (\n        <tr key={item.accountId}>\n            <th scope=\"row\">{index + 1 + (page * 10 - 10)}</th>\n            <td onClick={() => onClickAccountId(item.accountId)}>\n                <NavLink className=\"btn btn-secondary\" role=\"button\" to=\"/profiles\">\n                    {item.accountId}\n                </NavLink>\n            </td>\n            <td>{item.email}</td>\n            <td>{item.authToken}</td>\n            <td>{item.creationDate}</td>\n        </tr>\n    )\n};","import 'bootstrap/dist/css/bootstrap.min.css';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectAllAccounts, selectAccountsByPage } from '../../redux/accounts/accountsSelector';\nimport { useEffect, useState } from 'react';\nimport { getAccountsThunk, LIMIT } from '../../redux/accounts/operationAccounts';\nimport {selectFilterByEmail, selectFilterByDate, selectIsCheckedAllAccounts, selectFilteredAccounts} from '../../redux/filter/filterSelector'\nimport { filteredAccountsSet } from '../../redux/filter/filterSlice';\nimport { AccountItem } from 'components/AccountItem/AccountItem';\n\nexport const AccountsList = () => {\n    const dispatch = useDispatch();\n    const allAccounts = useSelector(selectAllAccounts);\n    const accountsByPage = useSelector(selectAccountsByPage);\n    const filterEmail = useSelector(selectFilterByEmail);\n    const filterDate = useSelector(selectFilterByDate);\n    const isCheckedAllAccounts = useSelector(selectIsCheckedAllAccounts);\n    const filteredAccounts = useSelector(selectFilteredAccounts);\n\n    const [page, setPage] = useState(0)\n    const [isLoadMore, setIsLoadMore] = useState(false);\n    const [isLoadLess, setIsLoadLess] = useState(true);\n    console.log('page =>', page);\n    console.log('isLoadMore =>', isLoadMore);\n    console.log('isLoadLess =>', isLoadLess);\n\n    useEffect(() => {\n        isCheckedAllAccounts ? setIsLoadMore(true) : setIsLoadMore(false);\n    }, [isCheckedAllAccounts]);\n\n    const totalPage = allAccounts.length / LIMIT;\n\n    useEffect(() => {\n        if (page === 0) {\n            setPage(page + 1)\n            return;\n        };\n        if (page > 1) {\n            setIsLoadLess(false);\n        };\n        if (page === totalPage) {\n            setIsLoadMore(true);\n        };\n\n\n        dispatch(getAccountsThunk(page))\n    }, [dispatch, page, totalPage]);\n\n    const onClickLoadMore = () => {\n        if (page === totalPage - 1) {\n            setIsLoadMore(true);\n        };\n        if (page > 1) {\n            setIsLoadLess(false);\n        };\n        setPage(page + 1)\n    };\n\n    const onClickLoadLess = () => {\n        if (page < totalPage + 1) {\n            setIsLoadMore(false);\n        };\n\n        if (page > 2) {\n            setIsLoadLess(false);\n        };\n        if (page === 2) {\n            setIsLoadLess(true);\n        };\n        setPage(page - 1)\n    };\n\n    const doFilterAccount = (array, key, filterEmail) => {\n        return array.filter((item) =>\n            (item[key].toLowerCase().includes(filterEmail)));\n    };\n\n    useEffect(() => {\n        if (filterEmail === '' && filterDate === '') {\n            dispatch(filteredAccountsSet([]));\n            return;\n        };\n        setPage(0);\n\n        console.log('filterEmail', filterEmail);\n        console.log('filterDate', filterDate);\n\n        let visibleAccounts = [];\n        if (filterEmail !== '' && filterDate !== '') {\n            const visibleAccountsByEmail = doFilterAccount(allAccounts, \"email\", filterEmail);\n            visibleAccounts = doFilterAccount(visibleAccountsByEmail, \"creationDate\", filterDate);\n        };\n        if (filterEmail !== '' && filterDate === '') {\n            visibleAccounts = doFilterAccount(allAccounts, \"email\", filterEmail);\n        };\n        if (filterEmail === '' && filterDate !== '') {\n            visibleAccounts = doFilterAccount(allAccounts, \"creationDate\", filterDate);\n        };\n        dispatch(filteredAccountsSet(visibleAccounts));\n\n    }, [dispatch, allAccounts, filterEmail, filterDate]);\n\n    return (\n        <div className='container'>\n            <table className=\"table table-striped table-bordered\">\n                <thead className='table-dark'>\n                    <tr>\n                        <th scope=\"col\">#</th>\n                        <th scope=\"col\">AccountId</th>\n                        <th scope=\"col\">Email</th>\n                        <th scope=\"col\">AuthToken</th>\n                        <th scope=\"col\">CreationDate</th>\n                    </tr>\n                </thead>\n                <tbody className=\"table-group-divider\">\n                    {(filterEmail.length > 0 || filterDate.length > 0) ? filteredAccounts?.map((item, index) =>\n                        <AccountItem item={item} index={index} page={page} />\n                    ) :\n                        isCheckedAllAccounts ?\n                            allAccounts?.map((item, index) =>\n                                <AccountItem item={item} index={index} page={page} />\n                            ) :\n                            accountsByPage?.map((item, index) =>\n                                <AccountItem item={item} index={index} page={page} />\n                            )}\n                </tbody>\n            </table>\n            {!isLoadMore && <button type=\"button\" className=\"btn btn-primary btn-lg\" onClick={onClickLoadMore}>Load more</button>}\n            {!isLoadLess && <button type=\"button\" className=\"btn btn-warning btn-lg\" onClick={onClickLoadLess}>Load less</button>}\n        </div>\n    )\n};","import 'bootstrap/dist/css/bootstrap.min.css';\nimport { useDispatch } from 'react-redux';\nimport { useEffect } from 'react';\nimport { getAllAccountsThunk } from '../redux/accounts/operationAccounts';\nimport { Filters } from 'components/Filters/Filter';\nimport { AccountsList } from 'components/AccountsList/AccountsList';\n\nconst Accounts = () => {\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        dispatch(getAllAccountsThunk())\n    }, [dispatch]);\n\n    return (\n        <div className='container'>\n            <h2>Accounts</h2>\n            <Filters/>\n            <AccountsList />\n        </div>\n    )\n};\n\nexport default Accounts;","export const selectAllAccounts = state => state.accounts.allAccounts;\nexport const selectAccountsByPage = state => state.accounts.accountsByPage;\nexport const selectSelectedAccountById= state => state.accounts.selectedAccountById;\nexport const selectIsLoading = state => state.accounts.isLoading;\nexport const selectError = state => state.accounts.error;\n"],"names":["selectFilterByEmail","state","filter","filterByEmail","selectFilterByDate","filterByDate","selectIsCheckedAllAccounts","isCheckedAllAccounts","selectFilteredAccounts","filteredAccounts","Filters","dispatch","useDispatch","filterEmail","useSelector","filterDate","IsCheckedAllAccounts","onChangeFilter","event","_event$currentTarget","currentTarget","type","value","lowerEmail","toLowerCase","filterByEmailSet","filterByDateSet","_jsxs","className","css","children","_jsx","id","checked","onChange","isCheckedAllAccountsSet","htmlFor","placeholder","AccountItem","_ref","item","index","page","scope","onClick","accountId","accountIdSet","getProfilesByAccountIdThank","NavLink","role","to","email","authToken","creationDate","AccountsList","allAccounts","selectAllAccounts","accountsByPage","selectAccountsByPage","_useState","useState","_useState2","_slicedToArray","setPage","_useState3","_useState4","isLoadMore","setIsLoadMore","_useState5","_useState6","isLoadLess","setIsLoadLess","console","log","useEffect","totalPage","length","LIMIT","getAccountsThunk","doFilterAccount","array","key","includes","visibleAccounts","visibleAccountsByEmail","filteredAccountsSet","map","getAllAccountsThunk","accounts","selectSelectedAccountById","selectedAccountById"],"sourceRoot":""}