"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[301],{301:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});n(632);var c=n(420),l=n(791),a=n(215),r=n(634),o="Filter_wrapFilters__GvMFl",i=function(e){return e.filter.filterByEmail},s=function(e){return e.filter.filterByDate},u=function(e){return e.filter.isCheckedAllAccounts},d=function(e){return e.filter.filteredAccounts},f=n(184),h=function(){var e=(0,c.I0)(),t=(0,c.v9)(i),n=(0,c.v9)(s),l=(0,c.v9)(u),a=function(t){var n=t.currentTarget,c=n.type,l=n.value;switch(c){case"email":var a=l.toLowerCase();e((0,r.rS)(a));break;case"date":e((0,r.Oi)(l))}};return(0,f.jsxs)("div",{className:o,children:[(0,f.jsxs)("div",{className:"form-check",children:[(0,f.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"flexCheckDefault",checked:l,onChange:function(){e((0,r.eQ)(!l))}}),(0,f.jsx)("label",{className:"form-check-label",htmlFor:"flexCheckDefault",children:"Choose all accounts"})]}),(0,f.jsxs)("div",{className:"mb-3",children:[(0,f.jsx)("label",{htmlFor:"emailInput",className:"form-label",children:"Filter by Email"}),(0,f.jsx)("input",{type:"email",className:"form-control",id:"emailInput",value:t,onChange:a,placeholder:"Write Email"})]}),(0,f.jsxs)("div",{className:"mb-3",children:[(0,f.jsx)("label",{htmlFor:"dataInput",className:"form-label",children:"Sort by Data"}),(0,f.jsx)("input",{type:"date",className:"form-control",id:"dataInput",value:n,onChange:a,placeholder:"Write Date: year-mm-dd"})]})]})},m=n(439),x=n(502),v=n(87),p=n(44),j=function(e){var t=e.item,n=e.index,l=e.page,r=(0,c.I0)();return(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{scope:"row",children:n+1+(10*l-10)}),(0,f.jsx)("td",{onClick:function(){return e=t.accountId,r((0,p.j9)(e)),void r((0,a.HY)(e));var e},children:(0,f.jsx)(v.OL,{className:"btn btn-secondary",role:"button",to:"/profiles",children:t.accountId})}),(0,f.jsx)("td",{children:t.email}),(0,f.jsx)("td",{children:t.authToken}),(0,f.jsx)("td",{children:t.creationDate})]},t.accountId)},b=function(){var e=(0,c.I0)(),t=(0,c.v9)(x.VA),n=(0,c.v9)(x.A),o=(0,c.v9)(i),h=(0,c.v9)(s),v=(0,c.v9)(u),p=(0,c.v9)(d),b=(0,l.useState)(0),g=(0,m.Z)(b,2),k=g[0],N=g[1],y=(0,l.useState)(!1),C=(0,m.Z)(y,2),I=C[0],A=C[1],w=(0,l.useState)(!0),D=(0,m.Z)(w,2),E=D[0],L=D[1];console.log("page =>",k),console.log("isLoadMore =>",I),console.log("isLoadLess =>",E),(0,l.useEffect)((function(){A(!!v)}),[v]);var F=t.length/a.VZ;(0,l.useEffect)((function(){0!==k?(k>1&&L(!1),k===F&&A(!0),e((0,a.cc)(k))):N(k+1)}),[e,k,F]);var S=function(e,t,n){return e.filter((function(e){return e[t].toLowerCase().includes(n)}))};return(0,l.useEffect)((function(){if(""!==o||""!==h){N(0),console.log("filterEmail",o),console.log("filterDate",h);var n=[];if(""!==o&&""!==h){var c=S(t,"email",o);n=S(c,"creationDate",h)}""!==o&&""===h&&(n=S(t,"email",o)),""===o&&""!==h&&(n=S(t,"creationDate",h)),e((0,r.SV)(n))}else e((0,r.SV)([]))}),[e,t,o,h]),(0,f.jsxs)("div",{className:"container",children:[(0,f.jsxs)("table",{className:"table table-striped table-bordered",children:[(0,f.jsx)("thead",{className:"table-dark",children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{scope:"col",children:"#"}),(0,f.jsx)("th",{scope:"col",children:"AccountId"}),(0,f.jsx)("th",{scope:"col",children:"Email"}),(0,f.jsx)("th",{scope:"col",children:"AuthToken"}),(0,f.jsx)("th",{scope:"col",children:"CreationDate"})]})}),(0,f.jsx)("tbody",{className:"table-group-divider",children:o.length>0||h.length>0?null===p||void 0===p?void 0:p.map((function(e,t){return(0,f.jsx)(j,{item:e,index:t,page:k})})):v?null===t||void 0===t?void 0:t.map((function(e,t){return(0,f.jsx)(j,{item:e,index:t,page:k})})):null===n||void 0===n?void 0:n.map((function(e,t){return(0,f.jsx)(j,{item:e,index:t,page:k})}))})]}),!I&&(0,f.jsx)("button",{type:"button",className:"btn btn-primary btn-lg",onClick:function(){k===F-1&&A(!0),k>1&&L(!1),N(k+1)},children:"Load more"}),!E&&(0,f.jsx)("button",{type:"button",className:"btn btn-warning btn-lg",onClick:function(){k<F+1&&A(!1),k>2&&L(!1),2===k&&L(!0),N(k-1)},children:"Load less"})]})},g=function(){var e=(0,c.I0)();return(0,l.useEffect)((function(){e((0,a.o)())}),[e]),(0,f.jsxs)("div",{className:"container",children:[(0,f.jsx)("h2",{children:"Accounts"}),(0,f.jsx)(h,{}),(0,f.jsx)(b,{})]})}},502:function(e,t,n){n.d(t,{A:function(){return l},VA:function(){return c},od:function(){return a}});var c=function(e){return e.accounts.allAccounts},l=function(e){return e.accounts.accountsByPage},a=function(e){return e.accounts.selectedAccountById}}}]);
//# sourceMappingURL=301.f357cc66.chunk.js.map